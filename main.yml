name: ğŸª„ Auto Sitemap & SEO Updater

on:
  schedule:
    - cron: '0 4 * * 1' # Her Pazartesi sabah 04:00â€™te Ã§alÄ±ÅŸÄ±r (UTC)
  workflow_dispatch: # Manuel Ã§alÄ±ÅŸtÄ±rma iÃ§in de izin verir

jobs:
  update_sitemap:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Generate sitemap
        run: |
          echo "Sitemap generating..."
          node ./generate-sitemap.js || echo "âš ï¸ generate-sitemap.js bulunamadÄ±"

      - name: Ping search engines
        run: |
          curl "https://www.google.com/ping?sitemap=https://mystai.ai/sitemap.xml"
          curl "https://www.bing.com/ping?sitemap=https://mystai.ai/sitemap.xml"
          curl "https://yandex.com/ping?sitemap=https://mystai.ai/sitemap.xml"
          curl "https://search.yahoo.com/ping?sitemap=https://mystai.ai/sitemap.xml"

      - name: Done âœ…
        run: echo "MystAI sitemap otomatik olarak gÃ¼ncellendi ve arama motorlarÄ±na bildirildi!"
