<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <title>MystAI ‚Äì Yapay Zek√¢ Tarot A√ßƒ±lƒ±mƒ±</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
        name="description"
        content="MystAI ile yapay zek√¢ destekli profesyonel tarot a√ßƒ±lƒ±mƒ±. Ge√ßmi≈ü‚Äì≈ûimdi‚ÄìGelecek kartlarƒ±nƒ± se√ß, niyetini yaz, ki≈üiselle≈ütirilmi≈ü yorumunu al."
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500;600&display=swap"
        rel="stylesheet"
    />

    <style>
        :root {
            --bg-main: radial-gradient(circle at top, #252a5c 0%, #050816 55%, #02040a 100%);
            --card-bg: rgba(9, 16, 40, 0.9);
            --panel-bg: rgba(9, 16, 40, 0.85);
            --accent: #ffd54a;
            --accent-soft: rgba(255, 213, 74, 0.18);
            --accent-strong: #ffea82;
            --text-main: #f5f7ff;
            --text-muted: #a3afd9;
            --danger: #ff6262;
            --border-soft: rgba(255, 255, 255, 0.08);
            --radius-lg: 18px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --shadow-strong: 0 24px 60px rgba(0, 0, 0, 0.8);
            --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.55);
            --blur: 22px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: #02040a;
            color: var(--text-main);
            font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-image: var(--bg-main);
            background-attachment: fixed;
            background-size: cover;
            display: flex;
            flex-direction: column;
        }

        .page-shell {
            max-width: 1120px;
            margin: 0 auto;
            padding: 20px 16px 32px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        /* HEADER */

        .top-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            padding: 10px 16px;
            border-radius: 999px;
            background: linear-gradient(135deg, rgba(9, 16, 40, 0.9), rgba(10, 20, 60, 0.9));
            border: 1px solid var(--border-soft);
            box-shadow: var(--shadow-soft);
            backdrop-filter: blur(18px);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .brand-logo {
            width: 32px;
            height: 32px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 30%, #fffae0, #ffd54a 40%, #f5a623 70%, #8c5cff 100%);
            box-shadow: 0 0 18px rgba(255, 213, 74, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: 700;
            color: #20124d;
        }

        .brand-text-main {
            font-family: "Playfair Display", serif;
            font-size: 20px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .brand-text-sub {
            font-size: 11px;
            text-transform: uppercase;
            color: var(--text-muted);
            letter-spacing: 0.16em;
        }

        .top-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .pill-tag {
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.16);
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--text-muted);
        }

        .user-pill {
            padding: 5px 12px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.45);
            border: 1px solid var(--border-soft);
            font-size: 11px;
            color: var(--text-muted);
        }

        /* MAIN LAYOUT */

        .main-layout {
            display: grid;
            grid-template-columns: minmax(0, 1.15fr) minmax(0, 1fr);
            gap: 18px;
            margin-top: 4px;
        }

        .panel {
            background: var(--panel-bg);
            border-radius: var(--radius-lg);
            padding: 18px 18px 20px;
            border: 1px solid var(--border-soft);
            box-shadow: var(--shadow-strong);
            backdrop-filter: blur(var(--blur));
            position: relative;
            overflow: hidden;
        }

        .panel::before {
            content: "";
            position: absolute;
            inset: -40%;
            background: radial-gradient(circle at top left, rgba(255, 213, 74, 0.11), transparent 55%);
            opacity: 0.7;
            pointer-events: none;
        }

        .panel-inner {
            position: relative;
            z-index: 1;
        }

        /* LEFT ‚Äì CARDS & QUESTION */

        .section-title {
            font-family: "Playfair Display", serif;
            font-size: 22px;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .section-subtitle {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .mini-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .spread-labels {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 4px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .spread-labels span strong {
            color: var(--accent-strong);
        }

        .card-row {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin: 10px 0 8px;
        }

        .tarot-slot {
            width: 120px;
            aspect-ratio: 3/5;
            perspective: 1200px;
        }

        .tarot-card {
            width: 100%;
            height: 100%;
            border-radius: 14px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.7s ease, box-shadow 0.3s ease, border 0.3s ease;
            cursor: pointer;
            box-shadow: 0 14px 30px rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.06);
            background: radial-gradient(circle at top, #f7f7ff, #d7d4ff);
        }

        .tarot-card.is-flipped {
            transform: rotateY(180deg);
        }

        .tarot-card-inner {
            position: absolute;
            inset: 0;
            border-radius: inherit;
            overflow: hidden;
        }

        .tarot-face {
            position: absolute;
            inset: 0;
            backface-visibility: hidden;
        }

        .tarot-face img {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: cover;
        }

        .tarot-face.back {
            transform: rotateY(0deg);
        }

        .tarot-face.front {
            transform: rotateY(180deg);
        }

        .tarot-card:hover {
            box-shadow: 0 22px 45px rgba(0, 0, 0, 0.9);
            border-color: rgba(255, 213, 74, 0.6);
        }

        .card-helper {
            text-align: center;
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .question-block {
            margin-top: 8px;
        }

        .question-label-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }

        .question-label-row span {
            font-size: 12px;
            color: var(--text-muted);
        }

        .question-label-row strong {
            color: var(--accent-strong);
        }

        .question-input {
            width: 100%;
            border-radius: var(--radius-md);
            border: 1px solid var(--border-soft);
            background: rgba(5, 8, 22, 0.8);
            color: var(--text-main);
            padding: 10px 11px;
            font-size: 13px;
            resize: vertical;
            min-height: 70px;
            outline: none;
            transition: border 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
        }

        .question-input::placeholder {
            color: rgba(163, 175, 217, 0.78);
        }

        .question-input:focus {
            border-color: rgba(255, 213, 74, 0.9);
            box-shadow: 0 0 0 1px rgba(255, 213, 74, 0.6);
            background: rgba(5, 8, 22, 0.95);
        }

        .cta-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .primary-btn {
            border: none;
            outline: none;
            cursor: pointer;
            border-radius: 999px;
            padding: 10px 18px;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: radial-gradient(circle at top left, #fff8cf, #ffd54a, #f1a93c);
            color: #2d2153;
            box-shadow: 0 14px 30px rgba(0, 0, 0, 0.8);
            transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
            white-space: nowrap;
        }

        .primary-btn span.icon {
            font-size: 15px;
        }

        .primary-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.9);
            filter: brightness(1.05);
        }

        .primary-btn:active {
            transform: translateY(1px) scale(0.99);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.75);
            filter: brightness(0.98);
        }

        .cta-hint {
            font-size: 11px;
            color: var(--text-muted);
            max-width: 260px;
        }

        .error-text {
            font-size: 11px;
            color: var(--danger);
            margin-top: 4px;
        }

        /* RIGHT ‚Äì READING */

        .reading-header {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 6px;
        }

        .reading-title {
            font-family: "Playfair Display", serif;
            font-size: 18px;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .tabs {
            display: flex;
            gap: 8px;
        }

        .tab-pill {
            font-size: 10px;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.14);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.16em;
        }

        .tab-pill.is-active {
            background: var(--accent-soft);
            border-color: rgba(255, 213, 74, 0.7);
            color: var(--accent-strong);
        }

        .reading-meta {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 10px;
        }

        .reading-content {
            background: radial-gradient(circle at top, rgba(12, 20, 60, 0.95), rgba(3, 7, 20, 0.96));
            border-radius: var(--radius-md);
            padding: 12px 12px 13px;
            border: 1px solid rgba(255, 255, 255, 0.06);
            min-height: 180px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .reading-content::before {
            content: "";
            position: absolute;
            inset: 0;
            background-image: radial-gradient(circle at 20% 0%, rgba(255, 213, 74, 0.13), transparent 45%),
                radial-gradient(circle at 100% 120%, rgba(163, 175, 217, 0.25), transparent 55%);
            opacity: 0.9;
            pointer-events: none;
            mix-blend-mode: soft-light;
        }

        .reading-body {
            position: relative;
            z-index: 1;
            font-size: 13px;
            line-height: 1.55;
        }

        .reading-body p {
            margin: 0 0 4px;
        }

        .reading-body p:last-child {
            margin-bottom: 0;
        }

        .reading-footer-note {
            position: relative;
            z-index: 1;
            margin-top: auto;
            padding-top: 8px;
            border-top: 1px dashed rgba(255, 255, 255, 0.08);
            font-size: 10px;
            color: var(--text-muted);
        }

        .selected-cards-strip {
            margin-top: 10px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            font-size: 11px;
        }

        .chip {
            padding: 4px 8px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.45);
            border: 1px solid rgba(255, 255, 255, 0.18);
            color: var(--text-muted);
        }

        .chip strong {
            color: var(--accent-strong);
        }

        /* FOOTER */

        .footer {
            margin-top: 18px;
            text-align: center;
            font-size: 11px;
            color: var(--text-muted);
            opacity: 0.85;
        }

        .footer a {
            color: var(--accent-strong);
            text-decoration: none;
        }

        /* RESPONSIVE */

        @media (max-width: 900px) {
            .main-layout {
                grid-template-columns: 1fr;
            }

            .panel {
                padding: 16px 14px 17px;
            }

            .card-row {
                gap: 12px;
            }

            .tarot-slot {
                width: 108px;
            }

            .reading-content {
                min-height: 170px;
            }
        }

        @media (max-width: 640px) {
            .top-bar {
                flex-direction: column;
                align-items: flex-start;
            }

            .brand-text-main {
                font-size: 18px;
            }

            .main-layout {
                gap: 14px;
            }

            .card-row {
                gap: 10px;
            }

            .tarot-slot {
                width: 95px;
            }

            .cta-row {
                flex-direction: column;
                align-items: stretch;
            }

            .primary-btn {
                justify-content: center;
                width: 100%;
            }

            .cta-hint {
                max-width: 100%;
            }
        }
    </style>
</head>

<body>
<div class="page-shell">
    <!-- TOP BAR -->
    <header class="top-bar">
        <div class="brand">
            <div class="brand-logo">M</div>
            <div>
                <div class="brand-text-main">MystAI Tarot</div>
                <div class="brand-text-sub">Yapay Zek√¢ Destekli Tarot A√ßƒ±lƒ±mƒ±</div>
            </div>
        </div>

        <div class="top-right">
            <div class="pill-tag">AI Tarot Engine v1</div>
            <div class="user-pill">Misafir kullanƒ±cƒ±</div>
        </div>
    </header>

    <!-- MAIN -->
    <main class="main-layout">
        <!-- LEFT: Cards + Question -->
        <section class="panel">
            <div class="panel-inner">
                <div class="section-title">Yapay Zek√¢ Tarot A√ßƒ±lƒ±mƒ±</div>
                <div class="section-subtitle">
                    √ú√ß kart (Ge√ßmi≈ü ‚Äì ≈ûimdi ‚Äì Gelecek) ve net bir niyet ile, MystAI senin adƒ±na kartlarƒ±n dilini √ß√∂zer.
                </div>

                <div class="mini-label">3 Kart A√ßƒ±lƒ±mƒ±</div>

                <div class="spread-labels">
                    <span><strong>Ge√ßmi≈ü</strong> ‚Äì k√∂kler, ge√ßmi≈ü etkiler</span>
                    <span><strong>≈ûimdi</strong> ‚Äì mevcut durum</span>
                    <span><strong>Gelecek</strong> ‚Äì olasƒ± y√∂n</span>
                </div>

                <div class="card-row" id="cardRow">
                    <div class="tarot-slot" data-position="past">
                        <div class="tarot-card">
                            <div class="tarot-card-inner">
                                <div class="tarot-face back">
                                    <img src="assets/cards/back.png" alt="Tarot arka y√ºz√º" />
                                </div>
                                <div class="tarot-face front">
                                    <img src="assets/cards/back.png" alt="Tarot kartƒ±" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tarot-slot" data-position="present">
                        <div class="tarot-card">
                            <div class="tarot-card-inner">
                                <div class="tarot-face back">
                                    <img src="assets/cards/back.png" alt="Tarot arka y√ºz√º" />
                                </div>
                                <div class="tarot-face front">
                                    <img src="assets/cards/back.png" alt="Tarot kartƒ±" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tarot-slot" data-position="future">
                        <div class="tarot-card">
                            <div class="tarot-card-inner">
                                <div class="tarot-face back">
                                    <img src="assets/cards/back.png" alt="Tarot arka y√ºz√º" />
                                </div>
                                <div class="tarot-face front">
                                    <img src="assets/cards/back.png" alt="Tarot kartƒ±" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-helper">
                    Kartlarƒ±n her biri desteden rastgele se√ßilir ve √ßevrilir. Aynƒ± kart iki kez √ßekilmez.
                </div>

                <div class="question-block">
                    <div class="question-label-row">
                        <span><strong>Sorun / Niyetin</strong></span>
                        <span>A≈ük, kariyer, para, ruhsal yolculuk...</span>
                    </div>

                    <textarea
                        id="questionInput"
                        class="question-input"
                        placeholder="A≈ük ili≈ükilerimle ilgili blokajlarƒ±mƒ± g√∂rmek istiyorum... &nbsp;veya &nbsp;Kariyerimde √∂n√ºmdeki 6 ayda beni neler bekliyor?"
                    ></textarea>
                    <div id="questionError" class="error-text" style="display:none;">
                        L√ºtfen niyetini birka√ß c√ºmleyle netle≈ütir. Yapay zek√¢, ne kadar net olursan o kadar iyi yorumlar.
                    </div>
                </div>

                <div class="cta-row">
                    <button id="drawButton" class="primary-btn">
                        <span class="icon">‚ú®</span>
                        <span>Tarot A√ßƒ±lƒ±mƒ±mƒ± G√∂ster</span>
                    </button>
                    <div class="cta-hint">
                        Kartlar se√ßildikten sonra saƒü tarafta bireysel kart yorumlarƒ±nƒ± ve Ge√ßmi≈ü‚Äì≈ûimdi‚ÄìGelecek √∂zetini g√∂receksin.
                    </div>
                </div>
            </div>
        </section>

        <!-- RIGHT: AI Reading -->
        <section class="panel">
            <div class="panel-inner">
                <div class="reading-header">
                    <div class="reading-title">Tarot A√ßƒ±lƒ±mƒ±n</div>
                    <div class="tabs">
                        <div class="tab-pill is-active">Ge√ßmi≈ü</div>
                        <div class="tab-pill is-active">≈ûimdi</div>
                        <div class="tab-pill is-active">Gelecek</div>
                    </div>
                </div>

                <div class="reading-meta" id="readingMeta">
                    3 kart se√ßip niyetini yazdƒ±ktan sonra yapay zek√¢ tarot yorumun burada g√∂r√ºnecek.
                </div>

                <div class="reading-content">
                    <div class="reading-body" id="readingBody">
                        <p>
                            Niyetini netle≈ütirirken m√ºmk√ºn olduƒüunca somut ol:
                        </p>
                        <p>
                            <em>‚Äú√ñn√ºm√ºzdeki 3 ay i√ßinde kariyerimde hangi fƒ±rsatlara odaklanmalƒ±yƒ±m?‚Äù</em> gibi.
                        </p>
                        <p>
                            Kartlar √ßekildiƒüinde MystAI, se√ßilen arketipleri bir b√ºt√ºn olarak okuyarak sana √∂zg√º bir
                            Ge√ßmi≈ü‚Äì≈ûimdi‚ÄìGelecek hik√¢yesi kurar.
                        </p>
                    </div>

                    <div class="reading-footer-note">
                        MystAI, eƒülence ve farkƒ±ndalƒ±k ama√ßlƒ± yapay zek√¢ tarot yorumcudur; profesyonel finansal, hukuki
                        veya tƒ±bbi tavsiye yerine ge√ßmez.
                    </div>
                </div>

                <div class="selected-cards-strip" id="selectedCardsStrip" style="display:none;"></div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        ¬© 2025 MystAI ‚Äì T√ºm haklarƒ± saklƒ±dƒ±r. Bu sayfa 35GALAXY35 tarafƒ±ndan ticari kullanƒ±m i√ßin
        geli≈ütirilmi≈ütir. &nbsp;|&nbsp; Destek: <a href="mailto:support@myst.ai">support@myst.ai</a>
    </footer>
</div>

<script>
    // ----------------------------------------------------
    //  TAROT DECK TANIMI
    // ----------------------------------------------------
    // üî¥ √ñNEMLƒ∞: Buradaki img yollarƒ±nƒ±, GitHub‚Äôdaki
    // /assets/cards/ klas√∂r√ºndeki ger√ßek dosya adlarƒ±nla
    // birebir aynƒ± yap.
    // √ñrnek: "assets/cards/ace-of-cups.png"
    // ----------------------------------------------------
    const tarotDeck = [
        { id: "the-fool", name: "The Fool", img: "assets/cards/the-fool.png" },
        { id: "the-magician", name: "The Magician", img: "assets/cards/the-magician.png" },
        { id: "the-high-priestess", name: "The High Priestess", img: "assets/cards/the-high-priestess.png" },
        { id: "the-empress", name: "The Empress", img: "assets/cards/the-empress.png" },
        { id: "the-emperor", name: "The Emperor", img: "assets/cards/the-emperor.png" },
        { id: "the-hierophant", name: "The Hierophant", img: "assets/cards/the-hierophant.png" },
        { id: "the-lovers", name: "The Lovers", img: "assets/cards/the-lovers.png" },
        { id: "the-chariot", name: "The Chariot", img: "assets/cards/the-chariot.png" },
        { id: "strength", name: "Strength", img: "assets/cards/strength.png" },
        { id: "the-hermit", name: "The Hermit", img: "assets/cards/the-hermit.png" },
        { id: "wheel-of-fortune", name: "Wheel of Fortune", img: "assets/cards/wheel-of-fortune.png" },
        { id: "justice", name: "Justice", img: "assets/cards/justice.png" },
        { id: "the-hanged-man", name: "The Hanged Man", img: "assets/cards/the-hanged-man.png" },
        { id: "death", name: "Death", img: "assets/cards/death.png" },
        { id: "temperance", name: "Temperance", img: "assets/cards/temperance.png" },
        { id: "the-devil", name: "The Devil", img: "assets/cards/the-devil.png" },
        { id: "the-tower", name: "The Tower", img: "assets/cards/the-tower.png" },
        { id: "the-star", name: "The Star", img: "assets/cards/the-star.png" },
        { id: "the-moon", name: "The Moon", img: "assets/cards/the-moon.png" },
        { id: "the-sun", name: "The Sun", img: "assets/cards/the-sun.png" },
        { id: "judgement", name: "Judgement", img: "assets/cards/judgement.png" },
        { id: "the-world", name: "The World", img: "assets/cards/the-world.png" },

        // K√º√ß√ºk Arkana ‚Äì √ñrnek birka√ß tanesi:
        { id: "ace-of-cups", name: "Ace of Cups", img: "assets/cards/ace-of-cups.png" },
        { id: "two-of-cups", name: "Two of Cups", img: "assets/cards/two-of-cups.png" },
        { id: "three-of-cups", name: "Three of Cups", img: "assets/cards/three-of-cups.png" },
        { id: "four-of-cups", name: "Four of Cups", img: "assets/cards/four-of-cups.png" },
        { id: "five-of-cups", name: "Five of Cups", img: "assets/cards/five-of-cups.png" },
        { id: "six-of-cups", name: "Six of Cups", img: "assets/cards/six-of-cups.png" },
        { id: "seven-of-cups", name: "Seven of Cups", img: "assets/cards/seven-of-cups.png" },
        { id: "eight-of-cups", name: "Eight of Cups", img: "assets/cards/eight-of-cups.png" },
        { id: "nine-of-cups", name: "Nine of Cups", img: "assets/cards/nine-of-cups.png" },
        { id: "ten-of-cups", name: "Ten of Cups", img: "assets/cards/ten-of-cups.png" },

        { id: "ace-of-pentacles", name: "Ace of Pentacles", img: "assets/cards/ace-of-pentacles.png" },
        { id: "two-of-pentacles", name: "Two of Pentacles", img: "assets/cards/two-of-pentacles.png" },
        { id: "three-of-pentacles", name: "Three of Pentacles", img: "assets/cards/three-of-pentacles.png" },
        { id: "four-of-pentacles", name: "Four of Pentacles", img: "assets/cards/four-of-pentacles.png" },
        { id: "five-of-pentacles", name: "Five of Pentacles", img: "assets/cards/five-of-pentacles.png" },
        { id: "six-of-pentacles", name: "Six of Pentacles", img: "assets/cards/six-of-pentacles.png" },
        { id: "seven-of-pentacles", name: "Seven of Pentacles", img: "assets/cards/seven-of-pentacles.png" },
        { id: "eight-of-pentacles", name: "Eight of Pentacles", img: "assets/cards/eight-of-pentacles.png" },
        { id: "nine-of-pentacles", name: "Nine of Pentacles", img: "assets/cards/nine-of-pentacles.png" },
        { id: "ten-of-pentacles", name: "Ten of Pentacles", img: "assets/cards/ten-of-pentacles.png" },

        { id: "ace-of-swords", name: "Ace of Swords", img: "assets/cards/ace-of-swords.png" },
        { id: "two-of-swords", name: "Two of Swords", img: "assets/cards/two-of-swords.png" },
        { id: "three-of-swords", name: "Three of Swords", img: "assets/cards/three-of-swords.png" },
        { id: "four-of-swords", name: "Four of Swords", img: "assets/cards/four-of-swords.png" },
        { id: "five-of-swords", name: "Five of Swords", img: "assets/cards/five-of-swords.png" },
        { id: "six-of-swords", name: "Six of Swords", img: "assets/cards/six-of-swords.png" },
        { id: "seven-of-swords", name: "Seven of Swords", img: "assets/cards/seven-of-swords.png" },
        { id: "eight-of-swords", name: "Eight of Swords", img: "assets/cards/eight-of-swords.png" },
        { id: "nine-of-swords", name: "Nine of Swords", img: "assets/cards/nine-of-swords.png" },
        { id: "ten-of-swords", name: "Ten of Swords", img: "assets/cards/ten-of-swords.png" },

        { id: "ace-of-wands", name: "Ace of Wands", img: "assets/cards/ace-of-wands.png" },
        { id: "two-of-wands", name: "Two of Wands", img: "assets/cards/two-of-wands.png" },
        { id: "three-of-wands", name: "Three of Wands", img: "assets/cards/three-of-wands.png" },
        { id: "four-of-wands", name: "Four of Wands", img: "assets/cards/four-of-wands.png" },
        { id: "five-of-wands", name: "Five of Wands", img: "assets/cards/five-of-wands.png" },
        { id: "six-of-wands", name: "Six of Wands", img: "assets/cards/six-of-wands.png" },
        { id: "seven-of-wands", name: "Seven of Wands", img: "assets/cards/seven-of-wands.png" },
        { id: "eight-of-wands", name: "Eight of Wands", img: "assets/cards/eight-of-wands.png" },
        { id: "nine-of-wands", name: "Nine of Wands", img: "assets/cards/nine-of-wands.png" },
        { id: "ten-of-wands", name: "Ten of Wands", img: "assets/cards/ten-of-wands.png" },

        // Saray kartlarƒ±
        { id: "page-of-cups", name: "Page of Cups", img: "assets/cards/page-of-cups.png" },
        { id: "knight-of-cups", name: "Knight of Cups", img: "assets/cards/knight-of-cups.png" },
        { id: "queen-of-cups", name: "Queen of Cups", img: "assets/cards/queen-of-cups.png" },
        { id: "king-of-cups", name: "King of Cups", img: "assets/cards/king-of-cups.png" },

        { id: "page-of-pentacles", name: "Page of Pentacles", img: "assets/cards/page-of-pentacles.png" },
        { id: "knight-of-pentacles", name: "Knight of Pentacles", img: "assets/cards/knight-of-pentacles.png" },
        { id: "queen-of-pentacles", name: "Queen of Pentacles", img: "assets/cards/queen-of-pentacles.png" },
        { id: "king-of-pentacles", name: "King of Pentacles", img: "assets/cards/king-of-pentacles.png" },

        { id: "page-of-swords", name: "Page of Swords", img: "assets/cards/page-of-swords.png" },
        { id: "knight-of-swords", name: "Knight of Swords", img: "assets/cards/knight-of-swords.png" },
        { id: "queen-of-swords", name: "Queen of Swords", img: "assets/cards/queen-of-swords.png" },
        { id: "king-of-swords", name: "King of Swords", img: "assets/cards/king-of-swords.png" },

        { id: "page-of-wands", name: "Page of Wands", img: "assets/cards/page-of-wands.png" },
        { id: "knight-of-wands", name: "Knight of Wands", img: "assets/cards/knight-of-wands.png" },
        { id: "queen-of-wands", name: "Queen of Wands", img: "assets/cards/queen-of-wands.png" },
        { id: "king-of-wands", name: "King of Wands", img: "assets/cards/king-of-wands.png" },
    ];

    const drawButton = document.getElementById("drawButton");
    const questionInput = document.getElementById("questionInput");
    const questionError = document.getElementById("questionError");
    const readingMeta = document.getElementById("readingMeta");
    const readingBody = document.getElementById("readingBody");
    const selectedCardsStrip = document.getElementById("selectedCardsStrip");

    function shuffle(array) {
        const copy = [...array];
        for (let i = copy.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [copy[i], copy[j]] = [copy[j], copy[i]];
        }
        return copy;
    }

    function drawThreeCards() {
        const shuffled = shuffle(tarotDeck);
        return {
            past: shuffled[0],
            present: shuffled[1],
            future: shuffled[2],
        };
    }

    function flipCardsAndRender(drawn) {
        const slots = document.querySelectorAll(".tarot-slot");

        slots.forEach((slot) => {
            const position = slot.getAttribute("data-position"); // past | present | future
            const cardData = drawn[position];

            const card = slot.querySelector(".tarot-card");
            const frontImg = slot.querySelector(".tarot-face.front img");

            // √∂nce back g√∂ster, sonra hafif gecikmeyle flip
            card.classList.remove("is-flipped");
            frontImg.src = cardData.img;
            frontImg.alt = cardData.name + " kartƒ±";

            setTimeout(() => {
                card.classList.add("is-flipped");
            }, 80);
        });
    }

    function updateSelectedStrip(drawn) {
        selectedCardsStrip.innerHTML = "";

        const map = [
            { label: "Ge√ßmi≈ü", key: "past" },
            { label: "≈ûimdi", key: "present" },
            { label: "Gelecek", key: "future" },
        ];

        map.forEach((item) => {
            const card = drawn[item.key];
            const chip = document.createElement("div");
            chip.className = "chip";
            chip.innerHTML = `<strong>${item.label}:</strong> ${card.name}`;
            selectedCardsStrip.appendChild(chip);
        });

        selectedCardsStrip.style.display = "flex";
    }

    function buildLocalReading(drawn, question) {
        // Bu kƒ±sƒ±m ger√ßek AI entegrasyonu gelene kadar
        // kullanabileceƒüin "akƒ±llƒ± placeholder" yorumudur.
        // Daha sonra burayƒ± kendi backend API √ßaƒürƒ±nla deƒüi≈ütirebilirsin.
        //
        // √ñrnek: fetch("/api/tarot-reading", { ... })
        const textQuestion = question.trim();

        const intro = textQuestion
            ? `Niyetin: ‚Äú${textQuestion}‚Äù\n\n`
            : "";

        const parts = [];

        parts.push(
            `üîÆ <strong>Ge√ßmi≈ü (${drawn.past.name})</strong><br>` +
                `Ge√ßmi≈üte ya≈üadƒ±ƒüƒ±n bazƒ± deneyimler h√¢l√¢ bug√ºnk√º kararlarƒ±nƒ± ≈üekillendiriyor. Bu kart, √∂zellikle tekrar eden bir tema veya dersin altƒ±nƒ± √ßiziyor.`
        );

        parts.push(
            `‚ú® <strong>≈ûimdi (${drawn.present.name})</strong><br>` +
                `≈ûu anda odaklandƒ±ƒüƒ±n enerji, d√∂n√º≈ü√ºm potansiyeli √ßok y√ºksek bir e≈üikte olduƒüunu g√∂steriyor. Kendi merkezini koruduk√ßa fƒ±rsatlarƒ± daha net g√∂rebileceksin.`
        );

        parts.push(
            `üåô <strong>Gelecek (${drawn.future.name})</strong><br>` +
                `Bu kart, √∂n√ºndeki d√∂nemde hangi kapƒ±larƒ±n a√ßƒ±labileceƒüine dair bir i≈üaret. Se√ßimlerin, bu enerjiyi nasƒ±l ya≈üayacaƒüƒ±nƒ± doƒürudan etkiliyor.`
        );

        const closing =
            "MystAI, kartlarƒ± senin niyetinle birlikte okur; burada g√∂rd√ºƒü√ºn olasƒ±lƒ±klar, √∂zg√ºr iraden ve bilin√ßli se√ßimlerinle ≈üekillenir.";

        return { intro, parts, closing };
    }

    drawButton.addEventListener("click", () => {
        const question = questionInput.value || "";
        const trimmed = question.trim();

        if (!trimmed) {
            questionError.style.display = "block";
        } else {
            questionError.style.display = "none";
        }

        const drawn = drawThreeCards();
        flipCardsAndRender(drawn);
        updateSelectedStrip(drawn);

        // Local / yapay yorum
        const reading = buildLocalReading(drawn, question);

        readingMeta.textContent =
            "A≈üaƒüƒ±daki yorumlar, se√ßtiƒüin Ge√ßmi≈ü‚Äì≈ûimdi‚ÄìGelecek kartlarƒ±nƒ±n enerjisini niyetinle birle≈ütirerek olu≈üturulmu≈ütur.";

        let html = "";
        if (reading.intro) {
            html += `<p>${reading.intro.replace(/\n/g, "<br>")}</p>`;
        }
        reading.parts.forEach((p) => {
            html += `<p>${p}</p>`;
        });
        html += `<p>${reading.closing}</p>`;

        readingBody.innerHTML = html;
    });
</script>
</body>
</html>
