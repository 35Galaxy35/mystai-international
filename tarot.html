<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MystAI â€” AI Tarot Reading</title>
  <link rel="icon" type="image/png" href="mystai-logo.png" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg-start:#0d1440;
      --bg-end:#0b0f1f;
      --text:#d8e0ff;
      --muted:#a9b4d0;
      --accent:#f2c84b;
      --card-border:#f7e8b0;
    }
    *{box-sizing:border-box;margin:0;padding:0;}

    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background:radial-gradient(1100px 700px at 50% -10%, #101a4d 0%, #0b0f1f 85%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* TOP BAR */
    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:14px 24px;
      background:rgba(10,15,30,0.45);
      backdrop-filter:blur(12px);
      border-bottom:1px solid rgba(255,255,255,0.08);
      position:sticky;
      top:0;
      z-index:20;
    }
    .top-left,.top-right{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .lang-btn{
      border:none;
      border-radius:50%;
      width:34px;height:34px;
      cursor:pointer;
      background-size:cover;
      background-position:center;
      transition:transform .25s ease,box-shadow .25s ease;
      border:2px solid transparent;
    }
    .flag-en{background-image:url('https://flagcdn.com/w40/gb.png');}
    .flag-tr{background-image:url('https://flagcdn.com/w40/tr.png');}

    .lang-btn.active{
      box-shadow:0 0 12px rgba(255,215,0,.8);
      border-color:#ffd54f;
      transform:scale(1.08);
    }
    .lang-btn:hover{transform:scale(1.12);}

    .nav-btn{
      border:0;
      border-radius:20px;
      background:rgba(255,255,255,.12);
      color:#fff;
      padding:7px 14px;
      cursor:pointer;
      font-weight:600;
      font-size:13px;
      display:flex;
      align-items:center;
      gap:4px;
      transition:all .25s ease;
    }
    .nav-btn:hover{filter:brightness(1.2);transform:translateY(-1px);}

    .user-label{
      font-size:13px;
      color:#ffe680;
      text-shadow:0 0 8px rgba(255,215,0,.4);
      margin-right:4px;
    }

    /* MAIN LAYOUT */
    .wrapper{
      flex:1;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding:30px 16px 40px;
    }
    .card-shell{
      width:100%;
      max-width:1120px;
      background:radial-gradient(circle at top,rgba(40,50,110,.9),rgba(4,8,24,.96));
      border-radius:20px;
      border:1px solid rgba(255,255,255,.15);
      box-shadow:0 0 40px rgba(0,0,0,.7);
      padding:24px;
      display:grid;
      grid-template-columns:minmax(0,1.25fr) minmax(0,0.9fr);
      gap:26px;
      position:relative;
      overflow:hidden;
    }
    .card-shell::before{
      content:"";
      position:absolute;
      inset:-40%;
      background:radial-gradient(circle at 10% 0%,rgba(255,215,0,.18),transparent 55%),
                 radial-gradient(circle at 90% 100%,rgba(120,90,255,.25),transparent 55%);
      opacity:.7;
      pointer-events:none;
    }
    .card-shell > *{position:relative; z-index:2;}
    @media(max-width:960px){
      .card-shell{grid-template-columns:1fr;}
    }

    /* LEFT SIDE */
    .section-title{
      font-family:'Cinzel',serif;
      color:#ffd54f;
      font-size:28px;
      margin-bottom:8px;
      text-shadow:0 0 14px rgba(255,220,120,.7);
      text-align:left;
    }
    .section-sub{
      font-size:14px;
      color:#e0e5ff;
      text-align:left;
      line-height:1.7;
      margin-bottom:18px;
    }
    .section-sub span{
      color:#ffd966;
      font-weight:600;
    }

    .label{
      text-align:left;
      font-size:13px;
      font-weight:600;
      color:#ffe680;
      margin-bottom:6px;
      margin-top:12px;
    }

    /* TAROT CARDS ROW */
    .tarot-row{
      display:flex;
      gap:18px;
      margin-top:6px;
      margin-bottom:4px;
      flex-wrap:wrap;
    }
    .tarot-card{
      width:120px;
      height:210px;
      perspective:1200px;
      cursor:pointer;
      position:relative;
    }
    .tarot-card.disabled{
      cursor:default;
      opacity:.9;
    }
    .card-inner{
      width:100%;height:100%;
      position:relative;
      transform-style:preserve-3d;
      transition:transform .7s ease;
    }
    .tarot-card.flipped .card-inner{
      transform:rotateY(180deg);
    }
    .card-face{
      position:absolute;
      width:100%;height:100%;
      border-radius:14px;
      backface-visibility:hidden;
      box-shadow:0 14px 35px rgba(0,0,0,.8);
      overflow:hidden;
    }

    /* BACK: MystAI GOLD SPIRAL STYLE */
    .card-front{
      background:radial-gradient(circle at 18% 10%,#fff9d8,#f2c84b 38%,#8f6cff 100%);
      border:1px solid rgba(250,240,190,.85);
      position:relative;
    }
    .card-front::before{
      content:"";
      position:absolute;
      inset:11px;
      border-radius:11px;
      border:1px solid rgba(90,50,210,.9);
      box-shadow:0 0 22px rgba(255,255,255,.7) inset;
    }
    .spiral{
      width:64px;height:64px;
      border-radius:50%;
      border:3px solid rgba(25,15,80,.9);
      box-shadow:0 0 18px rgba(0,0,0,.75);
      position:absolute;
      top:50%;left:50%;
      transform:translate(-50%,-50%);
      background:radial-gradient(circle at 30% 30%,#fffbe8,#f2c84b,#e0a93b);
    }
    .spiral::before{
      content:"";
      position:absolute;
      inset:9px;
      border-radius:50%;
      border:2px dashed rgba(90,40,180,.95);
    }
    .spiral::after{
      content:"MystAI";
      position:absolute;
      inset:20px;
      border-radius:50%;
      border:2px solid rgba(30,18,90,.95);
      box-shadow:0 0 10px rgba(0,0,0,.85);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:10px;
      font-weight:800;
      letter-spacing:1px;
      color:#281545;
    }

    /* FRONT FACE (GERÃ‡EK KART TARZI) */
    .card-back{
      transform:rotateY(180deg);
      background:linear-gradient(160deg,#16162f,#040713);
      border:1px solid rgba(247,232,176,.9);
      display:flex;
      flex-direction:column;
    }
    .card-frame{
      flex:1;
      margin:6px;
      border-radius:11px;
      border:1px solid rgba(247,232,176,.7);
      background:radial-gradient(circle at top,#27285b,#050712);
      position:relative;
      overflow:hidden;
    }
    .card-illus{
      position:absolute;
      inset:10px 12px 36px;
      border-radius:9px;
      background:radial-gradient(circle at 30% 10%,rgba(255,245,210,.35),transparent 45%),
                 radial-gradient(circle at 50% 90%,rgba(120,90,255,.45),transparent 55%),
                 linear-gradient(160deg,#15152a,#050612 70%);
      box-shadow:0 0 20px rgba(0,0,0,.85) inset;
      display:flex;
      align-items:flex-end;
      justify-content:center;
      padding:8px;
    }
    .card-illus span{
      font-size:11px;
      text-align:center;
      color:#f7f0ff;
      text-shadow:0 0 8px rgba(0,0,0,.9);
    }

    .card-caption{
      position:absolute;
      left:0;right:0;
      bottom:8px;
      text-align:center;
      font-size:11px;
      color:#ffeec0;
      text-transform:uppercase;
      letter-spacing:1px;
      font-weight:700;
    }

    .card-meta{
      padding:4px 6px 7px;
      text-align:center;
      border-top:1px solid rgba(247,232,176,.45);
      background:linear-gradient(180deg,rgba(20,20,40,.85),rgba(10,8,22,.95));
    }
    .card-meta-name{
      font-size:12px;
      font-weight:700;
      color:#fff5cf;
      text-shadow:0 0 8px rgba(0,0,0,.8);
    }
    .card-meta-pos{
      font-size:11px;
      color:#cfd5ff;
      margin-top:1px;
    }

    .card-hint{
      font-size:11px;
      color:#b2b9f5;
      margin-top:6px;
      text-align:left;
    }

    textarea{
      width:100%;
      min-height:90px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.18);
      background:#050b20;
      color:#e6ecff;
      padding:10px;
      font-family:inherit;
      font-size:14px;
      resize:vertical;
      outline:none;
      box-shadow:inset 0 0 10px rgba(0,0,0,.35);
      margin-top:4px;
    }
    textarea::placeholder{
      color:#808abf;
      font-size:13px;
    }

    .primary-btn{
      margin-top:14px;
      border:0;
      border-radius:12px;
      padding:10px 18px;
      background:linear-gradient(120deg,#ffd700,#ffb600,#ffe680);
      color:#111;
      font-weight:800;
      font-size:14px;
      cursor:pointer;
      box-shadow:0 0 18px rgba(255,215,0,.5);
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition:all .25s ease;
    }
    .primary-btn:hover{transform:translateY(-1px) scale(1.03);}
    .primary-btn:disabled{
      opacity:.6;
      cursor:not-allowed;
      transform:none;
      box-shadow:none;
    }

    .status{
      margin-top:8px;
      font-size:12px;
      color:#aeb6ff;
      text-align:left;
    }

    /* RIGHT SIDE â€“ RESULT */
    .result-box{
      border-radius:16px;
      background:radial-gradient(circle at 0% 0%,#323b7a,#070c24 55%);
      border:1px solid rgba(255,255,255,.16);
      padding:16px;
      box-shadow:0 0 30px rgba(0,0,0,.6);
      display:flex;
      flex-direction:column;
      height:100%;
    }
    .result-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
    }
    .result-title{
      font-size:15px;
      font-weight:700;
      color:#ffd966;
    }
    .audio-btn{
      border:0;
      border-radius:999px;
      padding:6px 12px;
      font-size:12px;
      font-weight:600;
      background:rgba(255,255,255,.12);
      color:#fff;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .audio-btn[disabled]{
      opacity:.5;
      cursor:not-allowed;
    }

    .spread-labels{
      display:flex;
      justify-content:space-between;
      font-size:11px;
      color:#aeb6ff;
      margin-bottom:4px;
      gap:8px;
      flex-wrap:wrap;
    }

    .result-content{
      margin-top:6px;
      font-size:14px;
      color:#dbe3ff;
      text-align:left;
      line-height:1.7;
      overflow-y:auto;
      max-height:280px;
      padding-right:4px;
      white-space:pre-wrap;
    }
    .result-hint{
      font-size:12px;
      color:#9098d0;
      margin-top:6px;
    }

    /* FOOTER */
    footer{
      border-top:1px solid rgba(255,255,255,.08);
      padding:18px;
      font-size:13px;
      color:#aeb6cf;
      text-align:center;
    }
    footer a{
      color:#ffd54f;
      text-decoration:none;
      font-weight:600;
    }
    footer a:hover{
      color:#fff6b0;
      text-shadow:0 0 10px rgba(255,255,120,.6);
    }
  </style>
</head>
<body>
  <!-- TOP BAR -->
  <div class="topbar">
    <div class="top-left">
      <button class="lang-btn flag-en" id="btn-en"></button>
      <button class="lang-btn flag-tr" id="btn-tr"></button>
    </div>
    <div class="top-right">
      <span class="user-label" id="userLabel"></span>
      <button class="nav-btn" id="backBtn">â¬… App</button>
      <button class="nav-btn" id="logoutBtn">Logout</button>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="wrapper">
    <div class="card-shell">
      <!-- LEFT SIDE -->
      <div>
        <h1 class="section-title" id="title">AI Tarot Reading</h1>
        <p class="section-sub" id="subtitle">
          Select three cards for your <span>Past â€“ Present â€“ Future</span> and share your intention. MystAI will interpret the full spread in a mystical but clear way.
        </p>

        <div class="label" id="labelCards">Choose 3 Cards (Past â€“ Present â€“ Future)</div>
        <div class="tarot-row" id="tarotRow">
          <div class="tarot-card" data-pos="past">
            <div class="card-inner">
              <!-- BACK SIDE (KART SIRTÄ°) -->
              <div class="card-face card-front">
                <div class="spiral"></div>
              </div>
              <!-- FRONT SIDE (AÃ‡ILDIKTAN SONRA) -->
              <div class="card-face card-back">
                <div class="card-frame">
                  <div class="card-illus">
                    <span data-role="illus-text"></span>
                  </div>
                  <div class="card-caption" data-role="caption"></div>
                </div>
                <div class="card-meta">
                  <div class="card-meta-name" data-role="name"></div>
                  <div class="card-meta-pos"  data-role="pos"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="tarot-card" data-pos="present">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="spiral"></div>
              </div>
              <div class="card-face card-back">
                <div class="card-frame">
                  <div class="card-illus">
                    <span data-role="illus-text"></span>
                  </div>
                  <div class="card-caption" data-role="caption"></div>
                </div>
                <div class="card-meta">
                  <div class="card-meta-name" data-role="name"></div>
                  <div class="card-meta-pos"  data-role="pos"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="tarot-card" data-pos="future">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="spiral"></div>
              </div>
              <div class="card-face card-back">
                <div class="card-frame">
                  <div class="card-illus">
                    <span data-role="illus-text"></span>
                  </div>
                  <div class="card-caption" data-role="caption"></div>
                </div>
                <div class="card-meta">
                  <div class="card-meta-name" data-role="name"></div>
                  <div class="card-meta-pos"  data-role="pos"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card-hint" id="cardHint">
          Click each card one by one. The golden MystAI backs will flip and reveal your tarot archetypes.
        </div>

        <div class="label" id="labelQuestion">Your Question / Intention</div>
        <textarea id="tarotQuestion"
          placeholder="Write what youâ€™d like MystAI to focus on (love, relationships, career, spiritual path...)"></textarea>

        <button class="primary-btn" id="readBtn" disabled>
          ğŸ”® <span id="readBtnText">Reveal My Tarot Reading</span>
        </button>

        <div class="status" id="statusText"></div>
      </div>

      <!-- RIGHT SIDE -->
      <div class="result-box">
        <div class="result-header">
          <div class="result-title" id="resultTitle">Your Tarot Spread</div>
          <button class="audio-btn" id="listenBtn" disabled>
            ğŸ”Š <span id="listenLabel">Listen</span>
          </button>
        </div>
        <div class="spread-labels">
          <span id="lblPast">Past</span>
          <span id="lblPresent">Present</span>
          <span id="lblFuture">Future</span>
        </div>
        <div class="result-content" id="resultText">
          âœ¨ After you choose 3 cards and send your intention, MystAI will reveal your tarot reading here. âœ¨
        </div>
        <div class="result-hint" id="resultHint">
          MystAI is an AI-based entertainment tool and should not be taken as professional or medical advice.
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p>
      Â© 2025 MystAI.ai â€” <span id="rightsLabel">All Rights Reserved.</span>
      <span id="devLabel">Developed by GALAXY ğŸŒŒ</span><br />
      <span id="contactLabel">Contact us:</span>
      <a href="mailto:support@mystai.ai">support@mystai.ai</a>
    </p>
  </footer>

  <audio id="audioPlayer" style="display:none;"></audio>

  <script type="module">
    /* ====== CONFIG ====== */
    const BACKEND_URL = "https://mystai-international.onrender.com";

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDyiD7GAfOjMbtm-S6pO6XCSRXJclffPL0",
      authDomain: "mystai-6cca2.firebaseapp.com",
      projectId: "mystai-6cca2",
      storageBucket: "mystai-6cca2.appspot.com",
      messagingSenderId: "624127781219",
      appId: "1:624127781219:web:a580ac6e80ccc26e694b56"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db   = getFirestore(app);

    /* ====== ELEMENTS ====== */
    const btnEn       = document.getElementById("btn-en");
    const btnTr       = document.getElementById("btn-tr");
    const backBtn     = document.getElementById("backBtn");
    const logoutBtn   = document.getElementById("logoutBtn");
    const userLabel   = document.getElementById("userLabel");

    const titleEl     = document.getElementById("title");
    const subtitleEl  = document.getElementById("subtitle");
    const labelCards  = document.getElementById("labelCards");
    const cardHint    = document.getElementById("cardHint");
    const labelQuestion = document.getElementById("labelQuestion");
    const tarotQuestion = document.getElementById("tarotQuestion");
    const readBtn     = document.getElementById("readBtn");
    const readBtnText = document.getElementById("readBtnText");
    const statusText  = document.getElementById("statusText");

    const resultTitle = document.getElementById("resultTitle");
    const resultText  = document.getElementById("resultText");
    const resultHint  = document.getElementById("resultHint");
    const listenBtn   = document.getElementById("listenBtn");
    const listenLabel = document.getElementById("listenLabel");
    const audioPlayer = document.getElementById("audioPlayer");

    const rightsLabel  = document.getElementById("rightsLabel");
    const devLabel     = document.getElementById("devLabel");
    const contactLabel = document.getElementById("contactLabel");

    const lblPast    = document.getElementById("lblPast");
    const lblPresent = document.getElementById("lblPresent");
    const lblFuture  = document.getElementById("lblFuture");

    const tarotRow   = document.getElementById("tarotRow");
    const cardElems  = Array.from(tarotRow.querySelectorAll(".tarot-card"));

   <script>
/* ===========================
      78 KARTLIK TAROT DESTE
   =========================== */

const TAROT_DECK = [
  /* ===== MAJOR ARCANA ===== */
  {
    key: "the-fool",
    en: "The Fool",
    tr: "Deli",
    image: "assets/cards/the-fool.png",
    vibe_en: "Stepping into a new chapter with innocence and faith, even if you donâ€™t fully see the path ahead.",
    vibe_tr: "Ã–nÃ¼nÃ¼ tam gÃ¶remesen bile, masumiyet ve gÃ¼venle yeni bir dÃ¶neme adÄ±m atÄ±yorsun."
  },
  {
    key: "the-magician",
    en: "The Magician",
    tr: "BÃ¼yÃ¼cÃ¼",
    image: "assets/cards/the-magician.png",
    vibe_en: "Your talents and focus can turn ideas into reality; the tools you need are already in your hands.",
    vibe_tr: "Yeteneklerin ve odaÄŸÄ±n, fikirlerini gerÃ§eÄŸe dÃ¶nÃ¼ÅŸtÃ¼rebilir; ihtiyacÄ±n olan her ÅŸey zaten elinde."
  },
  {
    key: "the-high-priestess",
    en: "The High Priestess",
    tr: "BaÅŸrahibe",
    image: "assets/cards/the-high-priestess.png",
    vibe_en: "Hidden truths and intuition are guiding you; listen to the quiet voice within rather than outer noise.",
    vibe_tr: "Gizli gerÃ§ekler ve sezgiler sana yol gÃ¶steriyor; dÄ±ÅŸ gÃ¼rÃ¼ltÃ¼ yerine iÃ§indeki sessiz sese kulak ver."
  },
  {
    key: "the-empress",
    en: "The Empress",
    tr: "Ä°mparatoriÃ§e",
    image: "assets/cards/the-empress.png",
    vibe_en: "A time of growth, creativity and emotional abundance is opening; nurture what you love.",
    vibe_tr: "BÃ¼yÃ¼me, yaratÄ±cÄ±lÄ±k ve duygusal bolluk zamanÄ± aÃ§Ä±lÄ±yor; sevdiÄŸin ÅŸeyleri ÅŸefkatle besle."
  },
  {
    key: "the-emperor",
    en: "The Emperor",
    tr: "Ä°mparator",
    image: "assets/cards/the-emperor.png",
    vibe_en: "Structure, discipline and clear boundaries bring stability and long-term success.",
    vibe_tr: "DÃ¼zen, disiplin ve net sÄ±nÄ±rlar; istikrarlÄ± ve uzun vadeli baÅŸarÄ± getiriyor."
  },
  {
    key: "the-hierophant",
    en: "The Hierophant",
    tr: "BaÅŸrahip",
    image: "assets/cards/the-hierophant.png",
    vibe_en: "Tradition, spiritual guidance or a mentor figure can help you find the right path now.",
    vibe_tr: "Gelenek, ruhsal rehberlik veya bir mentor figÃ¼rÃ¼ ÅŸu anda doÄŸru yolu bulmana yardÄ±m edebilir."
  },
  {
    key: "the-lovers",
    en: "The Lovers",
    tr: "AÅŸÄ±klar",
    image: "assets/cards/the-lovers.png",
    vibe_en: "A heartfelt choice or deep connection asks you to act with honesty and alignment with your values.",
    vibe_tr: "Kalpten gelen bir seÃ§im ya da derin bir baÄŸ, deÄŸerlerinle uyumlu ve dÃ¼rÃ¼st davranmanÄ± istiyor."
  },
  {
    key: "the-chariot",
    en: "The Chariot",
    tr: "SavaÅŸ ArabasÄ±",
    image: "assets/cards/the-chariot.png",
    vibe_en: "Determination and self-control help you move forward quickly toward your goals.",
    vibe_tr: "KararlÄ±lÄ±k ve Ã¶z disiplin, hedeflerine doÄŸru hÄ±zlÄ±ca ilerlemene yardÄ±m ediyor."
  },
  {
    key: "strength",
    en: "Strength",
    tr: "GÃ¼Ã§",
    image: "assets/cards/strength.png",
    vibe_en: "True strength comes from calm courage and gentle compassion, not from force.",
    vibe_tr: "GerÃ§ek gÃ¼Ã§, zorlamadan deÄŸil; sakin cesaret ve yumuÅŸak ÅŸefkatten doÄŸar."
  },
  {
    key: "the-hermit",
    en: "The Hermit",
    tr: "ErmiÅŸ",
    image: "assets/cards/the-hermit.png",
    vibe_en: "Stepping back to reflect brings the insight you need; solitude can be sacred now.",
    vibe_tr: "Bir adÄ±m geri Ã§ekilip dÃ¼ÅŸÃ¼nmek, ihtiyacÄ±n olan iÃ§gÃ¶rÃ¼yÃ¼ getiriyor; yalnÄ±zlÄ±k ÅŸu an kutsal olabilir."
  },
  {
    key: "wheel-of-fortune",
    en: "Wheel of Fortune",
    tr: "Kader Ã‡arkÄ±",
    image: "assets/cards/wheel-of-fortune.png",
    vibe_en: "Life is turning into a new cycle; timing and fate are opening unexpected doors.",
    vibe_tr: "Hayat yeni bir dÃ¶ngÃ¼ye giriyor; zamanlama ve kader, beklemediÄŸin kapÄ±larÄ± aÃ§Ä±yor."
  },
  {
    key: "justice",
    en: "Justice",
    tr: "Adalet",
    image: "assets/cards/justice.png",
    vibe_en: "Truth, fairness and consequences are in focus; a situation seeks balance and honesty.",
    vibe_tr: "GerÃ§ek, adalet ve sonuÃ§lar Ã¶n planda; bir durum denge ve dÃ¼rÃ¼stlÃ¼k istiyor."
  },
  {
    key: "the-hanged-man",
    en: "The Hanged Man",
    tr: "AsÄ±lan Adam",
    image: "assets/cards/the-hanged-man.png",
    vibe_en: "Pause, surrender and seeing things from a new angle can unlock the next step.",
    vibe_tr: "Durmak, teslim olmak ve olaya farklÄ± bir aÃ§Ä±dan bakmak, bir sonraki adÄ±mÄ± aÃ§abilir."
  },
  {
    key: "death",
    en: "Death",
    tr: "Death (Ã–lÃ¼m)",
    image: "assets/cards/death.png",
    vibe_en: "An old cycle is ending so a new one can begin; release what has already served its purpose.",
    vibe_tr: "Eski bir dÃ¶ngÃ¼ sona eriyor ki yenisi baÅŸlayabilsin; gÃ¶revini tamamlamÄ±ÅŸ olanÄ± bÄ±rakma zamanÄ±."
  },
  {
    key: "temperance",
    en: "Temperance",
    tr: "Denge",
    image: "assets/cards/temperance.png",
    vibe_en: "Balance, moderation and blending different energies bring harmony to your life.",
    vibe_tr: "Denge, Ã¶lÃ§Ã¼lÃ¼lÃ¼k ve farklÄ± enerjileri uyumla harmanlamak hayatÄ±na huzur getiriyor."
  },
  {
    key: "the-devil",
    en: "The Devil",
    tr: "Åeytan",
    image: "assets/cards/the-devil.png",
    vibe_en: "Attachments, fears or habits may be holding you back; awareness is the first step to freedom.",
    vibe_tr: "BaÄŸÄ±mlÄ±lÄ±klar, korkular veya alÄ±ÅŸkanlÄ±klar seni tutuyor olabilir; farkÄ±ndalÄ±k Ã¶zgÃ¼rlÃ¼ÄŸÃ¼n ilk adÄ±mÄ±."
  },
  {
    key: "the-tower",
    en: "The Tower",
    tr: "Kule",
    image: "assets/cards/the-tower.png",
    vibe_en: "Sudden change breaks false structures, making space for a more authentic life.",
    vibe_tr: "Ani deÄŸiÅŸimler, sahte yapÄ±larÄ± yÄ±karak daha gerÃ§ek bir yaÅŸam iÃ§in alan aÃ§Ä±yor."
  },
  {
    key: "the-star",
    en: "The Star",
    tr: "YÄ±ldÄ±z",
    image: "assets/cards/the-star.png",
    vibe_en: "Hope, healing and gentle guidance are surrounding you; trust that light is returning.",
    vibe_tr: "Umut, ÅŸifa ve yumuÅŸak bir rehberlik seni sarÄ±yor; Ä±ÅŸÄ±ÄŸÄ±n geri dÃ¶ndÃ¼ÄŸÃ¼ne gÃ¼ven."
  },
  {
    key: "the-moon",
    en: "The Moon",
    tr: "Ay",
    image: "assets/cards/the-moon.png",
    vibe_en: "Dreams, emotions and uncertainty are strong; move slowly and listen to your intuition.",
    vibe_tr: "RÃ¼yalar, duygular ve belirsizlik yoÄŸun; yavaÅŸ ilerle ve sezgilerini dinle."
  },
  {
    key: "the-sun",
    en: "The Sun",
    tr: "GÃ¼neÅŸ",
    image: "assets/cards/the-sun.png",
    vibe_en: "Joy, clarity and success are shining on you; this is a time to be seen and to celebrate.",
    vibe_tr: "NeÅŸe, aÃ§Ä±klÄ±k ve baÅŸarÄ± Ã¼zerine doÄŸuyor; gÃ¶rÃ¼nÃ¼r olma ve kutlama zamanÄ±."
  },
  {
    key: "judgement",
    en: "Judgement",
    tr: "YargÄ±",
    image: "assets/cards/judgement.png",
    vibe_en: "A spiritual wake-up call asks you to rise above the past and answer a higher calling.",
    vibe_tr: "Ruhsal bir uyanÄ±ÅŸ Ã§aÄŸrÄ±sÄ±, geÃ§miÅŸin Ã¶tesine geÃ§ip daha yÃ¼ksek bir Ã§aÄŸrÄ±ya cevap vermeni istiyor."
  },
  {
    key: "the-world",
    en: "The World",
    tr: "DÃ¼nya",
    image: "assets/cards/the-world.png",
    vibe_en: "A cycle reaches completion; you are integrating lessons and stepping into a wider world.",
    vibe_tr: "Bir dÃ¶ngÃ¼ tamamlanÄ±yor; dersleri Ã¶zÃ¼msÃ¼yor ve daha geniÅŸ bir dÃ¼nyaya adÄ±m atÄ±yorsun."
  },

  /* ===== CUPS ===== */
  {
    key: "ace-of-cups",
    en: "Ace of Cups",
    tr: "Kupa AsÄ±",
    image: "assets/cards/ace-of-cups.png",
    vibe_en: "A fresh emotional beginning, new love, or a heart-opening experience flows toward you.",
    vibe_tr: "Yeni bir duygusal baÅŸlangÄ±Ã§, taze bir aÅŸk veya kalbini aÃ§an bir deneyim sana doÄŸru akÄ±yor."
  },
  {
    key: "two-of-cups",
    en: "Two of Cups",
    tr: "Kupa Ä°ki",
    image: "assets/cards/two-of-cups.png",
    vibe_en: "Soul-level connection, partnership or reconciliation is highlighted now.",
    vibe_tr: "Ruh dÃ¼zeyinde bir baÄŸlantÄ±, ortaklÄ±k veya barÄ±ÅŸma enerjisi Ã¶n plana Ã§Ä±kÄ±yor."
  },
  {
    key: "three-of-cups",
    en: "Three of Cups",
    tr: "Kupa ÃœÃ§",
    image: "assets/cards/three-of-cups.png",
    vibe_en: "Celebration, friendship and supportive community uplift your spirit.",
    vibe_tr: "Kutlama, dostluk ve destekleyici bir Ã§evre ruhunu yÃ¼kseltiyor."
  },
  {
    key: "four-of-cups",
    en: "Four of Cups",
    tr: "Kupa DÃ¶rt",
    image: "assets/cards/four-of-cups.png",
    vibe_en: "Emotional boredom or dissatisfaction invites you to notice the new opportunity being offered.",
    vibe_tr: "Duygusal sÄ±kÄ±lma veya tatminsizlik, sana sunulan yeni fÄ±rsatÄ± fark etmen iÃ§in bir Ã§aÄŸrÄ±."
  },
  {
    key: "five-of-cups",
    en: "Five of Cups",
    tr: "Kupa BeÅŸ",
    image: "assets/cards/five-of-cups.png",
    vibe_en: "Grief or regret is present, yet not all is lost; there is still something to build from.",
    vibe_tr: "KayÄ±p veya piÅŸmanlÄ±k hissi gÃ¼Ã§lÃ¼, ama her ÅŸey bitmiÅŸ deÄŸil; hÃ¢lÃ¢ Ã¼zerine kurabileceÄŸin bir ÅŸeyler var."
  },
  {
    key: "six-of-cups",
    en: "Six of Cups",
    tr: "Kupa AltÄ±",
    image: "assets/cards/six-of-cups.png",
    vibe_en: "Nostalgia, childhood memories or a pure, kind energy returns to your life.",
    vibe_tr: "Nostalji, Ã§ocukluk anÄ±larÄ± veya saf, iyi niyetli bir enerji hayatÄ±na geri dÃ¶nÃ¼yor."
  },
  {
    key: "seven-of-cups",
    en: "Seven of Cups",
    tr: "Kupa Yedi",
    image: "assets/cards/seven-of-cups.png",
    vibe_en: "Many options appear, but not all are real or healthy; clarity comes when you ground yourself.",
    vibe_tr: "BirÃ§ok seÃ§enek var, fakat hepsi gerÃ§ekÃ§i veya saÄŸlÄ±klÄ± deÄŸil; kendini merkezlediÄŸinde netlik kazanacaksÄ±n."
  },
  {
    key: "eight-of-cups",
    en: "Eight of Cups",
    tr: "Kupa Sekiz",
    image: "assets/cards/eight-of-cups.png",
    vibe_en: "Walking away from what no longer nourishes you opens the path to deeper fulfillment.",
    vibe_tr: "ArtÄ±k beslemediÄŸi ÅŸeylerden uzaklaÅŸmak, seni daha derin bir tatmine gÃ¶tÃ¼recek yolu aÃ§Ä±yor."
  },
  {
    key: "nine-of-cups",
    en: "Nine of Cups",
    tr: "Kupa Dokuz",
    image: "assets/cards/nine-of-cups.png",
    vibe_en: "A wish fulfilled and emotional satisfaction are within reach; enjoy what youâ€™ve created.",
    vibe_tr: "Bir dileÄŸin gerÃ§ekleÅŸmesi ve duygusal tatmin yakÄ±n; yarattÄ±ÄŸÄ±n ÅŸeylerin tadÄ±nÄ± Ã§Ä±kar."
  },
  {
    key: "ten-of-cups",
    en: "Ten of Cups",
    tr: "Kupa On",
    image: "assets/cards/ten-of-cups.png",
    vibe_en: "Harmony in relationships and emotional completion bring a sense of home and belonging.",
    vibe_tr: "Ä°liÅŸkilerde uyum ve duygusal tamamlanma, ait olma ve yuva hissini gÃ¼Ã§lendiriyor."
  },
  {
    key: "page-of-cups",
    en: "Page of Cups",
    tr: "Kupa Vale",
    image: "assets/cards/page-of-cups.png",
    vibe_en: "Sensitive messages, creative ideas or shy romantic energy are entering your world.",
    vibe_tr: "Hassas mesajlar, yaratÄ±cÄ± fikirler veya utangaÃ§ bir romantik enerji hayatÄ±na giriyor."
  },
  {
    key: "knight-of-cups",
    en: "Knight of Cups",
    tr: "Kupa ÅÃ¶valyesi",
    image: "assets/cards/knight-of-cups.png",
    vibe_en: "A romantic, idealistic or emotionally driven offer may sweep you off your feet.",
    vibe_tr: "Romantik, idealist veya duygusal bir teklif, seni ayaklarÄ±ndan kesebilir."
  },
  {
    key: "queen-of-cups",
    en: "Queen of Cups",
    tr: "Kupa KraliÃ§esi",
    image: "assets/cards/queen-of-cups.png",
    vibe_en: "Empathy, intuition and emotional depth support healing for yourself and others.",
    vibe_tr: "Empati, sezgi ve duygusal derinlik; hem senin hem baÅŸkalarÄ±nÄ±n ÅŸifalanmasÄ±nÄ± destekliyor."
  },
  {
    key: "king-of-cups",
    en: "King of Cups",
    tr: "Kupa KralÄ±",
    image: "assets/cards/king-of-cups.png",
    vibe_en: "Emotional maturity and calm leadership help you navigate complex feelings wisely.",
    vibe_tr: "Duygusal olgunluk ve sakin liderlik, karmaÅŸÄ±k duygularÄ± bilgece yÃ¶netmene yardÄ±m ediyor."
  },

  /* ===== WANDS ===== */
  {
    key: "ace-of-wands",
    en: "Ace of Wands",
    tr: "DeÄŸnek AsÄ±",
    image: "assets/cards/ace-of-wands.png",
    vibe_en: "A spark of inspiration, passion or new project wants to be born through you.",
    vibe_tr: "Ä°lham, tutku veya yeni bir proje kÄ±vÄ±lcÄ±mÄ± iÃ§inden doÄŸmak istiyor."
  },
  {
    key: "two-of-wands",
    en: "Two of Wands",
    tr: "DeÄŸnek Ä°ki",
    image: "assets/cards/two-of-wands.png",
    vibe_en: "Youâ€™re planning your next move; the world feels open if you dare to expand.",
    vibe_tr: "Bir sonraki adÄ±mÄ±nÄ± planlÄ±yorsun; cesaret edersen dÃ¼nya sana aÃ§Ä±k gÃ¶rÃ¼nÃ¼yor."
  },
  {
    key: "three-of-wands",
    en: "Three of Wands",
    tr: "DeÄŸnek ÃœÃ§",
    image: "assets/cards/three-of-wands.png",
    vibe_en: "Your efforts begin to show results; something you set in motion is now returning.",
    vibe_tr: "EmeÄŸinin sonuÃ§larÄ±nÄ± gÃ¶rmeye baÅŸlÄ±yorsun; harekete geÃ§irdiÄŸin bir ÅŸey sana geri dÃ¶nÃ¼yor."
  },
  {
    key: "four-of-wands",
    en: "Four of Wands",
    tr: "DeÄŸnek DÃ¶rt",
    image: "assets/cards/four-of-wands.png",
    vibe_en: "Stability, homecoming or a joyful milestone invites you to celebrate.",
    vibe_tr: "Ä°stikrar, eve dÃ¶nÃ¼ÅŸ veya neÅŸeli bir dÃ¶nÃ¼m noktasÄ±; kutlama yapman iÃ§in seni Ã§aÄŸÄ±rÄ±yor."
  },
  {
    key: "five-of-wands",
    en: "Five of Wands",
    tr: "DeÄŸnek BeÅŸ",
    image: "assets/cards/five-of-wands.png",
    vibe_en: "Competition, tension or ego clashes need healthy communication and perspective.",
    vibe_tr: "Rekabet, gerginlik veya ego Ã§atÄ±ÅŸmalarÄ±; saÄŸlÄ±klÄ± iletiÅŸim ve bakÄ±ÅŸ aÃ§Ä±sÄ± istiyor."
  },
  {
    key: "six-of-wands",
    en: "Six of Wands",
    tr: "DeÄŸnek AltÄ±",
    image: "assets/cards/six-of-wands.png",
    vibe_en: "Recognition, victory or progress is visible; youâ€™re being seen for your efforts.",
    vibe_tr: "Takdir, zafer veya ilerleme gÃ¶rÃ¼nÃ¼r hÃ¢le geliyor; emeÄŸin fark ediliyor."
  },
  {
    key: "seven-of-wands",
    en: "Seven of Wands",
    tr: "DeÄŸnek Yedi",
    image: "assets/cards/seven-of-wands.png",
    vibe_en: "You may need to stand your ground and protect your position with courage.",
    vibe_tr: "DuruÅŸunu koruman ve konumunu cesaretle savunman gerekebilir."
  },
  {
    key: "eight-of-wands",
    en: "Eight of Wands",
    tr: "DeÄŸnek Sekiz",
    image: "assets/cards/eight-of-wands.png",
    vibe_en: "Things accelerate quicklyâ€”messages, travel or decisions move at high speed.",
    vibe_tr: "Her ÅŸey hÄ±zlanÄ±yor; mesajlar, yolculuklar veya kararlar yÃ¼ksek tempoya giriyor."
  },
  {
    key: "nine-of-wands",
    en: "Nine of Wands",
    tr: "DeÄŸnek Dokuz",
    image: "assets/cards/nine-of-wands.png",
    vibe_en: "Youâ€™re tired but close to the finish line; resilience will carry you through.",
    vibe_tr: "Yorgunsun ama bitiÅŸ Ã§izgisine Ã§ok yakÄ±nsÄ±n; dayanÄ±klÄ±lÄ±ÄŸÄ±n seni oraya taÅŸÄ±yacak."
  },
  {
    key: "ten-of-wands",
    en: "Ten of Wands",
    tr: "DeÄŸnek On",
    image: "assets/cards/ten-of-wands.png",
    vibe_en: "Carrying too many responsibilities alone; itâ€™s time to delegate or release some weight.",
    vibe_tr: "Ã‡ok fazla sorumluluÄŸu tek baÅŸÄ±na taÅŸÄ±yorsun; yÃ¼kÃ¼n bir kÄ±smÄ±nÄ± bÄ±rakma veya paylaÅŸma zamanÄ±."
  },
  {
    key: "page-of-wands",
    en: "Page of Wands",
    tr: "DeÄŸnek Vale",
    image: "assets/cards/page-of-wands.png",
    vibe_en: "Exciting news, adventurous ideas or playful energy ignite your curiosity.",
    vibe_tr: "Heyecan verici haberler, maceracÄ± fikirler veya neÅŸeli bir enerji merakÄ±nÄ± ateÅŸliyor."
  },
  {
    key: "knight-of-wands",
    en: "Knight of Wands",
    tr: "DeÄŸnek ÅÃ¶valyesi",
    image: "assets/cards/knight-of-wands.png",
    vibe_en: "Bold, fiery movement pushes you to act, but watch for impulsiveness.",
    vibe_tr: "Cesur ve ateÅŸli bir hareket seni eyleme itiyor, ancak dÃ¼ÅŸÃ¼nmeden atlamamaya dikkat et."
  },
  {
    key: "queen-of-wands",
    en: "Queen of Wands",
    tr: "DeÄŸnek KraliÃ§esi",
    image: "assets/cards/queen-of-wands.png",
    vibe_en: "Confidence, charisma and creative fire help you shine and inspire others.",
    vibe_tr: "Ã–zgÃ¼ven, Ã§ekicilik ve yaratÄ±cÄ± ateÅŸ; parlamanÄ± ve baÅŸkalarÄ±na ilham vermeni saÄŸlÄ±yor."
  },
  {
    key: "king-of-wands",
    en: "King of Wands",
    tr: "DeÄŸnek KralÄ±",
    image: "assets/cards/king-of-wands.png",
    vibe_en: "Visionary leadership and courageous action move your plans forward.",
    vibe_tr: "Vizyoner liderlik ve cesur adÄ±mlar, planlarÄ±nÄ± ileriye taÅŸÄ±yor."
  },

  /* ===== SWORDS ===== */
  {
    key: "ace-of-swords",
    en: "Ace of Swords",
    tr: "KÄ±lÄ±Ã§ AsÄ±",
    image: "assets/cards/ace-of-swords.png",
    vibe_en: "A sharp new idea or clear truth cuts through confusion.",
    vibe_tr: "Keskin bir fikir veya aÃ§Ä±k bir gerÃ§ek, kafa karÄ±ÅŸÄ±klÄ±ÄŸÄ±nÄ± daÄŸÄ±tÄ±yor."
  },
  {
    key: "two-of-swords",
    en: "Two of Swords",
    tr: "KÄ±lÄ±Ã§ Ä°ki",
    image: "assets/cards/two-of-swords.png",
    vibe_en: "Indecision and mental stalemate ask you to look within and choose.",
    vibe_tr: "KararsÄ±zlÄ±k ve zihinsel kilitlenme, iÃ§e bakÄ±p bir seÃ§im yapmanÄ± istiyor."
  },
  {
    key: "three-of-swords",
    en: "Three of Swords",
    tr: "KÄ±lÄ±Ã§ ÃœÃ§",
    image: "assets/cards/three-of-swords.png",
    vibe_en: "Heartache or disappointment needs acknowledgment so healing can begin.",
    vibe_tr: "Kalp kÄ±rÄ±klÄ±ÄŸÄ± veya hayal kÄ±rÄ±klÄ±ÄŸÄ±, ÅŸifanÄ±n baÅŸlayabilmesi iÃ§in gÃ¶rÃ¼lmek ve kabul edilmek istiyor."
  },
  {
    key: "four-of-swords",
    en: "Four of Swords",
    tr: "KÄ±lÄ±Ã§ DÃ¶rt",
    image: "assets/cards/four-of-swords.png",
    vibe_en: "Rest, retreat and mental pause are necessary to restore your energy.",
    vibe_tr: "Dinlenme, geri Ã§ekilme ve zihinsel mola; enerjini yenilemen iÃ§in gerekli."
  },
  {
    key: "five-of-swords",
    en: "Five of Swords",
    tr: "KÄ±lÄ±Ã§ BeÅŸ",
    image: "assets/cards/five-of-swords.png",
    vibe_en: "Winning at any cost may harm relationships; consider what truly matters.",
    vibe_tr: "Her ne pahasÄ±na olursa olsun kazanmak, iliÅŸkileri zedeleyebilir; gerÃ§ekten neyin Ã¶nemli olduÄŸunu dÃ¼ÅŸÃ¼n."
  },
  {
    key: "six-of-swords",
    en: "Six of Swords",
    tr: "KÄ±lÄ±Ã§ AltÄ±",
    image: "assets/cards/six-of-swords.png",
    vibe_en: "Youâ€™re moving away from turmoil toward calmer waters, even if the transition feels emotional.",
    vibe_tr: "Ã‡alkantÄ±dan uzaklaÅŸÄ±p daha sakin sulara gidiyorsun; geÃ§iÅŸ duygusal olsa da yÃ¶nÃ¼n doÄŸru."
  },
  {
    key: "seven-of-swords",
    en: "Seven of Swords",
    tr: "KÄ±lÄ±Ã§ Yedi",
    image: "assets/cards/seven-of-swords.png",
    vibe_en: "Strategy or secrecy is at play; make sure youâ€™re aligned with integrity.",
    vibe_tr: "Strateji veya gizlilik sÃ¶z konusu; niyetlerinin dÃ¼rÃ¼stlÃ¼kle uyumlu olduÄŸundan emin ol."
  },
  {
    key: "eight-of-swords",
    en: "Eight of Swords",
    tr: "KÄ±lÄ±Ã§ Sekiz",
    image: "assets/cards/eight-of-swords.png",
    vibe_en: "Feeling trapped by thoughts, yet the way out appears once you shift your perspective.",
    vibe_tr: "DÃ¼ÅŸÃ¼nceler tarafÄ±ndan sÄ±kÄ±ÅŸmÄ±ÅŸ gibi hissediyorsun, ancak bakÄ±ÅŸ aÃ§Ä±nÄ± deÄŸiÅŸtirince Ã§Ä±kÄ±ÅŸ yolu beliriyor."
  },
  {
    key: "nine-of-swords",
    en: "Nine of Swords",
    tr: "KÄ±lÄ±Ã§ Dokuz",
    image: "assets/cards/nine-of-swords.png",
    vibe_en: "Anxiety and late-night worries may be louder than reality; compassion for yourself is needed.",
    vibe_tr: "KaygÄ± ve gece dÃ¼ÅŸÃ¼nceleri, gerÃ§eklikten daha gÃ¼rÃ¼ltÃ¼lÃ¼ olabilir; kendine ÅŸefkat gÃ¶sterme zamanÄ±."
  },
  {
    key: "ten-of-swords",
    en: "Ten of Swords",
    tr: "KÄ±lÄ±Ã§ On",
    image: "assets/cards/ten-of-swords.png",
    vibe_en: "A painful ending has reached its peak; from here, the only direction is up.",
    vibe_tr: "AcÄ± veren bir son noktaya ulaÅŸtÄ±; buradan sonra tek yÃ¶n yukarÄ±."
  },
  {
    key: "page-of-swords",
    en: "Page of Swords",
    tr: "KÄ±lÄ±Ã§ Vale",
    image: "assets/cards/page-of-swords.png",
    vibe_en: "Curious, alert energy brings new ideas, questions and mental exploration.",
    vibe_tr: "MeraklÄ± ve tetikte bir enerji; yeni fikirler, sorular ve zihinsel keÅŸifler getiriyor."
  },
  {
    key: "knight-of-swords",
    en: "Knight of Swords",
    tr: "KÄ±lÄ±Ã§ ÅÃ¶valyesi",
    image: "assets/cards/knight-of-swords.png",
    vibe_en: "Fast action and bold words cut through delays, but be mindful of harshness.",
    vibe_tr: "HÄ±zlÄ± hareket ve keskin sÃ¶zler gecikmeleri kesip atÄ±yor, ancak sertlikten kaÃ§Ä±nmaya dikkat et."
  },
  {
    key: "queen-of-swords",
    en: "Queen of Swords",
    tr: "KÄ±lÄ±Ã§ KraliÃ§esi",
    image: "assets/cards/queen-of-swords.png",
    vibe_en: "Clear thinking, honesty and healthy boundaries protect your inner truth.",
    vibe_tr: "Net dÃ¼ÅŸÃ¼nce, dÃ¼rÃ¼stlÃ¼k ve saÄŸlÄ±klÄ± sÄ±nÄ±rlar; iÃ§sel gerÃ§eÄŸini korumana yardÄ±m ediyor."
  },
  {
    key: "king-of-swords",
    en: "King of Swords",
    tr: "KÄ±lÄ±Ã§ KralÄ±",
    image: "assets/cards/king-of-swords.png",
    vibe_en: "Logic, fairness and wise judgment guide the decisions youâ€™re making.",
    vibe_tr: "MantÄ±k, adalet ve bilge yargÄ±; verdiÄŸin kararlara rehberlik ediyor."
  },

  /* ===== PENTACLES ===== */
  {
    key: "ace-of-pentacles",
    en: "Ace of Pentacles",
    tr: "TÄ±lsÄ±m AsÄ±",
    image: "assets/cards/ace-of-pentacles.png",
    vibe_en: "A concrete opportunity in money, work or stability is being offered.",
    vibe_tr: "Para, iÅŸ veya istikrar alanÄ±nda somut bir fÄ±rsat sana sunuluyor."
  },
  {
    key: "two-of-pentacles",
    en: "Two of Pentacles",
    tr: "TÄ±lsÄ±m Ä°ki",
    image: "assets/cards/two-of-pentacles.png",
    vibe_en: "Youâ€™re juggling multiple demands; flexibility and prioritizing will help.",
    vibe_tr: "Birden fazla talebi dengelemeye Ã§alÄ±ÅŸÄ±yorsun; esneklik ve Ã¶nceliklendirme sana yardÄ±mcÄ± olacak."
  },
  {
    key: "three-of-pentacles",
    en: "Three of Pentacles",
    tr: "TÄ±lsÄ±m ÃœÃ§",
    image: "assets/cards/three-of-pentacles.png",
    vibe_en: "Collaboration, skill and shared effort build something strong and lasting.",
    vibe_tr: "Ä°ÅŸbirliÄŸi, beceri ve ortak emek; gÃ¼Ã§lÃ¼ ve kalÄ±cÄ± bir ÅŸey inÅŸa ediyor."
  },
  {
    key: "four-of-pentacles",
    en: "Four of Pentacles",
    tr: "TÄ±lsÄ±m DÃ¶rt",
    image: "assets/cards/four-of-pentacles.png",
    vibe_en: "Holding too tightly to security can block the flow of abundance.",
    vibe_tr: "GÃ¼vene Ã§ok sÄ±kÄ± tutunmak, bolluÄŸun akÄ±ÅŸÄ±nÄ± tÄ±kayabilir."
  },
  {
    key: "five-of-pentacles",
    en: "Five of Pentacles",
    tr: "TÄ±lsÄ±m BeÅŸ",
    image: "assets/cards/five-of-pentacles.png",
    vibe_en: "Feelings of lack or exclusion soften when you reach for support and new perspectives.",
    vibe_tr: "Yoksunluk veya dÄ±ÅŸlanmÄ±ÅŸlÄ±k hissi, destek arayÄ±p farklÄ± bakÄ±ÅŸ aÃ§Ä±larÄ±na aÃ§Ä±ldÄ±ÄŸÄ±nda hafifler."
  },
  {
    key: "six-of-pentacles",
    en: "Six of Pentacles",
    tr: "TÄ±lsÄ±m AltÄ±",
    image: "assets/cards/six-of-pentacles.png",
    vibe_en: "Giving and receiving are coming into balance; generosity blesses both sides.",
    vibe_tr: "Verme ve alma dengeleniyor; cÃ¶mertlik, hem vereni hem alanÄ± bereketlendiriyor."
  },
  {
    key: "seven-of-pentacles",
    en: "Seven of Pentacles",
    tr: "TÄ±lsÄ±m Yedi",
    image: "assets/cards/seven-of-pentacles.png",
    vibe_en: "Patience is required; your long-term investments are slowly bearing fruit.",
    vibe_tr: "SabÄ±r gerekiyor; uzun vadeli emeklerin yavaÅŸ yavaÅŸ meyve veriyor."
  },
  {
    key: "eight-of-pentacles",
    en: "Eight of Pentacles",
    tr: "TÄ±lsÄ±m Sekiz",
    image: "assets/cards/eight-of-pentacles.png",
    vibe_en: "Hard work, practice and attention to detail grow your mastery.",
    vibe_tr: "SÄ±kÄ± Ã§alÄ±ÅŸma, pratik ve detaya gÃ¶sterilen Ã¶zen; ustalÄ±ÄŸÄ±nÄ± geliÅŸtiriyor."
  },
  {
    key: "nine-of-pentacles",
    en: "Nine of Pentacles",
    tr: "TÄ±lsÄ±m Dokuz",
    image: "assets/cards/nine-of-pentacles.png",
    vibe_en: "Independence, comfort and self-worth are highlighted; enjoy what youâ€™ve earned.",
    vibe_tr: "BaÄŸÄ±msÄ±zlÄ±k, konfor ve Ã¶z deÄŸer vurgulanÄ±yor; kazandÄ±klarÄ±nÄ±n tadÄ±nÄ± Ã§Ä±kar."
  },
  {
    key: "ten-of-pentacles",
    en: "Ten of Pentacles",
    tr: "TÄ±lsÄ±m On",
    image: "assets/cards/ten-of-pentacles.png",
    vibe_en: "Legacy, family stability and long-term security are in focus now.",
    vibe_tr: "Miras, aile istikrarÄ± ve uzun vadeli gÃ¼vence ÅŸu an gÃ¼ndeminde."
  },
  {
    key: "page-of-pentacles",
    en: "Page of Pentacles",
    tr: "TÄ±lsÄ±m Vale",
    image: "assets/cards/page-of-pentacles.png",
    vibe_en: "New studies, job offers or practical ideas about the future appear.",
    vibe_tr: "Yeni eÄŸitimler, iÅŸ teklifleri veya geleceÄŸe dair pratik fikirler karÅŸÄ±na Ã§Ä±kÄ±yor."
  },
  {
    key: "knight-of-pentacles",
    en: "Knight of Pentacles",
    tr: "TÄ±lsÄ±m ÅÃ¶valyesi",
    image: "assets/cards/knight-of-pentacles.png",
    vibe_en: "Steady, reliable effort and patience bring lasting results.",
    vibe_tr: "AÄŸÄ±r ama emin adÄ±mlar ve sabÄ±r, kalÄ±cÄ± sonuÃ§lar getiriyor."
  },
  {
    key: "queen-of-pentacles",
    en: "Queen of Pentacles",
    tr: "TÄ±lsÄ±m KraliÃ§esi",
    image: "assets/cards/queen-of-pentacles.png",
    vibe_en: "Grounded nurturing energy supports both material and emotional well-being.",
    vibe_tr: "AyaklarÄ± yere basan ÅŸefkatli bir enerji, hem maddi hem duygusal iyi oluÅŸu destekliyor."
  },
  {
    key: "king-of-pentacles",
    en: "King of Pentacles",
    tr: "TÄ±lsÄ±m KralÄ±",
    image: "assets/cards/king-of-pentacles.png",
    vibe_en: "Stability, prosperity and practical wisdom help you build solid foundations.",
    vibe_tr: "Ä°stikrar, bolluk ve pratik bilgelik; saÄŸlam temeller kurmana yardÄ±m ediyor."
  }
];
</script>


    /* ====== i18n ====== */
    const i18n = {
      en:{
        title:"AI Tarot Reading",
        subtitle:"Select three cards for your Past â€“ Present â€“ Future and share your intention. MystAI will read your full spread with mystical clarity.",
        cardsLabel:"Choose 3 Cards (Past â€“ Present â€“ Future)",
        cardHint:"Click each card one by one. The golden MystAI backs will flip and reveal your tarot archetypes.",
        questionLabel:"Your Question / Intention",
        placeholder:"Write what youâ€™d like MystAI to focus on (love, relationships, career, spiritual path...)",
        btnText:"Reveal My Tarot Reading",
        statusIdle:"",
        statusNeedCards:"Please select 3 cards first.",
        statusNeedText:"Please write at least a short question or intention.",
        statusLoading:"Shuffling the deck and reading your spread...",
        statusDone:"Your tarot reading is ready.",
        statusError:"An error occurred. Please try again.",
        userWelcome:"Welcome, ",
        resultTitle:"Your Tarot Spread",
        resultInitial:"âœ¨ After you choose 3 cards and send your intention, MystAI will reveal your tarot reading here. âœ¨",
        resultHint:"MystAI is an AI-based entertainment tool and should not be taken as professional or medical advice.",
        listen:"Listen",
        listening:"Playing...",
        back:"Back to App",
        logout:"Logout",
        lblPast:"Past",
        lblPresent:"Present",
        lblFuture:"Future",
        rights:"All Rights Reserved.",
        dev:"Developed by GALAXY ğŸŒŒ",
        contact:"Contact us:"
      },
      tr:{
        title:"Yapay ZekÃ¢ Tarot AÃ§Ä±lÄ±mÄ±",
        subtitle:"GeÃ§miÅŸ â€“ Åimdi â€“ Gelecek iÃ§in Ã¼Ã§ kart seÃ§ ve niyetini yaz. MystAI, tÃ¼m aÃ§Ä±lÄ±mÄ±nÄ± mistik ama net bir dille yorumlasÄ±n.",
        cardsLabel:"3 Kart SeÃ§ (GeÃ§miÅŸ â€“ Åimdi â€“ Gelecek)",
        cardHint:"Kartlara teker teker tÄ±kla. AltÄ±n MystAI sÄ±rtlarÄ± dÃ¶necek ve senin iÃ§in seÃ§ilen tarot arketiplerini gÃ¶sterecek.",
        questionLabel:"Sorun / Niyetin",
        placeholder:"AÅŸk, iliÅŸkiler, kariyer veya ruhsal yolculuÄŸunla ilgili merak ettiklerini buraya yaz...",
        btnText:"Tarot AÃ§Ä±lÄ±mÄ±mÄ± GÃ¶ster",
        statusIdle:"",
        statusNeedCards:"LÃ¼tfen Ã¶nce 3 kart seÃ§.",
        statusNeedText:"LÃ¼tfen en azÄ±ndan kÄ±sa bir soru veya niyet yaz.",
        statusLoading:"Deste karÄ±lÄ±yor, enerjin tarot kartlarÄ±na yansÄ±yor...",
        statusDone:"Tarot aÃ§Ä±lÄ±mÄ±n hazÄ±r.",
        statusError:"Bir hata oluÅŸtu. LÃ¼tfen tekrar dene.",
        userWelcome:"HoÅŸ geldin, ",
        resultTitle:"Tarot AÃ§Ä±lÄ±mÄ±n",
        resultInitial:"âœ¨ 3 kartÄ±nÄ± seÃ§ip niyetini yazdÄ±ktan sonra yapay zekÃ¢ tarot yorumun burada gÃ¶rÃ¼necek. âœ¨",
        resultHint:"MystAI eÄŸlence amaÃ§lÄ± bir yapay zekÃ¢ fal yorumlayÄ±cÄ±sÄ±dÄ±r; profesyonel veya tÄ±bbi tavsiye yerine geÃ§mez.",
        listen:"Dinle",
        listening:"Ã‡alÄ±yor...",
        back:"Uygulamaya DÃ¶n",
        logout:"Ã‡Ä±kÄ±ÅŸ Yap",
        lblPast:"GeÃ§miÅŸ",
        lblPresent:"Åimdi",
        lblFuture:"Gelecek",
        rights:"TÃ¼m HaklarÄ± SaklÄ±dÄ±r.",
        dev:"GALAXY tarafÄ±ndan geliÅŸtirilmiÅŸtir ğŸŒŒ",
        contact:"Ä°letiÅŸim:"
      }
    };

    let activeLang     = localStorage.getItem("myst_lang") || "en";
    let selectedCards  = {}; // {past:{cardObj,posText}, ...}

    function applyLang(lang){
      activeLang = lang;
      localStorage.setItem("myst_lang",lang);
      const t = i18n[lang];

      titleEl.textContent       = t.title;
      subtitleEl.textContent    = t.subtitle;
      labelCards.textContent    = t.cardsLabel;
      cardHint.textContent      = t.cardHint;
      labelQuestion.textContent = t.questionLabel;
      tarotQuestion.placeholder = t.placeholder;
      readBtnText.textContent   = t.btnText;
      resultTitle.textContent   = t.resultTitle;
      resultText.textContent    = t.resultInitial;
      resultHint.textContent    = t.resultHint;
      listenLabel.textContent   = t.listen;
      rightsLabel.textContent   = t.rights;
      devLabel.textContent      = t.dev;
      contactLabel.textContent  = t.contact;
      backBtn.textContent       = "â¬… " + t.back;
      logoutBtn.textContent     = t.logout;
      lblPast.textContent       = t.lblPast;
      lblPresent.textContent    = t.lblPresent;
      lblFuture.textContent     = t.lblFuture;

      btnEn.classList.toggle("active",lang==="en");
      btnTr.classList.toggle("active",lang==="tr");

      if(auth.currentUser){
        const name = auth.currentUser.displayName || auth.currentUser.email;
        userLabel.textContent = t.userWelcome + name;
      }

      // Kart pozisyon metinlerini gÃ¼ncelle (Ã¶rneÄŸin sayfa yenilenmeden dil deÄŸiÅŸince)
      Object.entries(selectedCards).forEach(([slot, info])=>{
        const posText = getPositionText(slot);
        info.posText  = posText;
        const cardEl  = tarotRow.querySelector(`.tarot-card[data-pos="${slot}"]`);
        if(cardEl){
          const posEl = cardEl.querySelector('[data-role="pos"]');
          if(posEl) posEl.textContent = posText;
        }
      });
    }

    btnEn.addEventListener("click",()=>applyLang("en"));
    btnTr.addEventListener("click",()=>applyLang("tr"));

    backBtn.addEventListener("click",()=>{ window.location.href="app.html"; });
    logoutBtn.addEventListener("click",()=>{ signOut(auth).then(()=>window.location.href="login.html"); });

    onAuthStateChanged(auth,(user)=>{
      if(!user){
        window.location.href="login.html";
        return;
      }
      const t = i18n[activeLang];
      const name = user.displayName || user.email;
      userLabel.textContent = t.userWelcome + name;
    });

    applyLang(activeLang);

    /* ====== TAROT SEÃ‡Ä°M LOGÄ°C ====== */

    function getPositionText(slot){
      if(slot==="past")    return activeLang==="tr" ? "GeÃ§miÅŸ Enerji" : "Past energy";
      if(slot==="present") return activeLang==="tr" ? "Åu Anki Durum" : "Current situation";
      return activeLang==="tr" ? "Gelecek Potansiyeli" : "Future potential";
    }

    function getCaptionText(card){
      return activeLang==="tr" ? card.vibe_tr : card.vibe_en;
    }

    function drawRandomCard(){
      const usedKeys = new Set(Object.values(selectedCards).map(info=>info.card.key));
      const remaining = TAROT_DECK.filter(c=>!usedKeys.has(c.key));
      if(!remaining.length) return null;
      const idx = Math.floor(Math.random()*remaining.length);
      return remaining[idx];
    }

    function updateReadButtonState(){
      const t = i18n[activeLang];
      const slots = ["past","present","future"];
      const allSelected = slots.every(s=>selectedCards[s]);
      readBtn.disabled = !allSelected;
      statusText.textContent = allSelected ? t.statusIdle : t.statusNeedCards;
    }

    cardElems.forEach(card=>{
      card.addEventListener("click",()=>{
        const slot = card.getAttribute("data-pos"); // past / present / future
        if(selectedCards[slot]) return; // zaten aÃ§Ä±k

        const cardData = drawRandomCard();
        if(!cardData) return;

        const posText   = getPositionText(slot);
        const caption   = getCaptionText(cardData);
        const nameText  = activeLang==="tr" ? cardData.tr : cardData.en;

        selectedCards[slot] = { card: cardData, posText };

        const nameEl    = card.querySelector('[data-role="name"]');
        const posEl     = card.querySelector('[data-role="pos"]');
        const illusText = card.querySelector('[data-role="illus-text"]');
        const captionEl = card.querySelector('[data-role="caption"]');

        if(nameEl)    nameEl.textContent    = nameText;
        if(posEl)     posEl.textContent     = posText;
        if(illusText) illusText.textContent = caption;
        if(captionEl) captionEl.textContent = nameText.toUpperCase();

        card.classList.add("flipped");
        card.classList.add("disabled");

        updateReadButtonState();
      });
    });

    /* ====== TAROT READING (BACKEND + FIRESTORE) ====== */
    readBtn.addEventListener("click", async ()=>{
      const t = i18n[activeLang];
      const user = auth.currentUser;
      if(!user){
        alert(activeLang==="tr" ? "LÃ¼tfen Ã¶nce giriÅŸ yap." : "Please log in first.");
        return;
      }

      const slots = ["past","present","future"];
      const allSelected = slots.every(s=>selectedCards[s]);
      if(!allSelected){
        alert(t.statusNeedCards);
        return;
      }

      const question = tarotQuestion.value.trim();
      if(!question){
        alert(t.statusNeedText);
        return;
      }

      readBtn.disabled = true;
      statusText.textContent = t.statusLoading;
      resultText.textContent = "";
      listenBtn.disabled = true;
      audioPlayer.pause();
      audioPlayer.currentTime = 0;
      audioPlayer.src = "";

      try{
        if(!BACKEND_URL || BACKEND_URL.includes("YOUR-BACKEND-URL")){
          statusText.textContent = "Backend URL is not configured.";
          readBtn.disabled = false;
          return;
        }

        const cardsDescription = slots.map(slot=>{
          const info = selectedCards[slot];
          const c    = info.card;
          const posLabel = (
            slot==="past"    ? (activeLang==="tr"?"GeÃ§miÅŸ":"Past") :
            slot==="present" ? (activeLang==="tr"?"Åimdi":"Present") :
                               (activeLang==="tr"?"Gelecek":"Future")
          );
          const cardName = activeLang==="tr" ? c.tr : c.en;
          return `${posLabel}: ${cardName} â€“ ${getCaptionText(c)}`;
        }).join("\n");

        const headerText = activeLang==="tr"
          ? "Bu bir tarot aÃ§Ä±lÄ±mÄ±dÄ±r. GeÃ§miÅŸâ€“Åimdiâ€“Gelecek iÃ§in seÃ§ilen kartlarÄ± ve kullanÄ±cÄ±nÄ±n sorusunu, mistik ama net ve detaylÄ± bir dille yorumla."
          : "This is a tarot spread. Interpret the Pastâ€“Presentâ€“Future cards and the user's question in a mystical, warm and detailed way.";

        const userText =
          headerText +
          "\n\n" +
          (activeLang==="tr" ? "Kartlar:\n" : "Cards:\n") +
          cardsDescription +
          "\n\n" +
          (activeLang==="tr" ? "KullanÄ±cÄ±nÄ±n sorusu/niyeti: " : "User's question/intention: ") +
          question;

        const res = await fetch(`${BACKEND_URL}/predict`,{
          method:"POST",
          headers:{ "Content-Type":"application/json" },
          body: JSON.stringify({ user_input: userText })
        });

        if(!res.ok){
          throw new Error("HTTP " + res.status);
        }

        const data = await res.json();
        const text = data?.text || (activeLang==="tr" ? "YanÄ±t alÄ±namadÄ±." : "No response.");
        const audioPath = data?.audio;

        resultText.textContent = text;
        statusText.textContent = t.statusDone;

        // Firestore kaydÄ±
        try{
          await addDoc(collection(db,"fortunes"),{
            user: user.email,
            type: "AI Tarot Reading",
            question,
            result: text,
            cards: {
              past:    selectedCards.past?.card?.key    || null,
              present: selectedCards.present?.card?.key || null,
              future:  selectedCards.future?.card?.key  || null
            },
            createdAt: new Date().toISOString(),
            source: "tarot-page"
          });
        }catch(e){
          console.warn("Firestore save error:",e);
        }

        if(audioPath){
          const fullURL = audioPath.startsWith("http") ? audioPath : `${BACKEND_URL}${audioPath}`;
          audioPlayer.src = fullURL;
          listenBtn.disabled = false;
        }

      }catch(err){
        console.error(err);
        statusText.textContent = t.statusError;
        resultText.textContent =
          (activeLang==="tr" ? "Hata: " : "Error: ") + (err?.message || String(err));
      }finally{
        readBtn.disabled = false;
      }
    });

    listenBtn.addEventListener("click",()=>{
      if(!audioPlayer.src) return;
      const t = i18n[activeLang];
      listenLabel.textContent = t.listening;
      audioPlayer.play().catch(()=>{});
      audioPlayer.onended = ()=>{ listenLabel.textContent = t.listen; };
    });
  </script>
</body>
</html>
